%start Start
%title "Test grammar"
%comment "Tests corect handling of scanner states"
%line_comment "//"
%block_comment "/\*" "\*/"

%scanner String {
    %auto_newline_off
    %auto_ws_off
}

%%

Start
    : { Content };

Content
    : Identifier
    | StringDelimiter StringContent StringDelimiter
    ;

StringContent
    : { Escaped | EscapedLineEnd | NoneQuote }
    ;

Identifier
    : "[a-zA-Z_]\w*"
    ;

Escaped
    : <String>"\\[\\bft]"
    ;

EscapedLineEnd
    : <String>"\\[\s*]\r?\n"
    ;

NoneQuote
    : <String>"[^\u{22}]"
    ;

StringDelimiter
    : <String, INITIAL>"\u{22}"
    ;
